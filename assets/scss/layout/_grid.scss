@mixin grid-basic-styles {
  position: relative;

  display: flex;
  justify-content: space-between;
  align-items: stretch;
  flex-direction: row;
  flex-wrap: wrap;
}

@function col-width ($size: 1, $model: $grid-model, $gutter: $grid-gutter) {
  @return (calc(((100% - (#{$gutter} * (#{$model} - 1))) / #{$model}) * #{$size} + (#{$gutter} * (#{$size} - 1))));
}

@mixin grid {
  @include grid-basic-styles;

  @for $i from 1 through $grid-model {
    .col-#{$i}:not(.no-gutter) {
      width: col-width($i, $grid-model, $grid-gutter);
    }
    .col-#{$i}.no-gutter {
      width: col-width($i, $grid-model, 0px);
    }
  }

  @media (max-width: $media-xl) {
    @for $i from 1 through $grid-model-xl {
      .col-xl-#{$i}:not(.no-gutter) {
        width: col-width($i, $grid-model-xl, $grid-gutter-xl);
      }
      .col-xl-#{$i}.no-gutter {
        width: col-width($i, $grid-model-xl, 0px);
      }
    }
  }

  @media (max-width: $media-l) {
    @for $i from 1 through $grid-model-l {
      .col-l-#{$i}:not(.no-gutter) {
        width: col-width($i, $grid-model-l, $grid-gutter-l);
      }
      .col-l-#{$i}.no-gutter {
        width: col-width($i, $grid-model-l, 0px);
      }
    }
  }

  @media (max-width: $media-m) {
    @for $i from 1 through $grid-model-m {
      .col-m-#{$i}:not(.no-gutter) {
        width: col-width($i, $grid-model-m, $grid-gutter-m);
      }
      .col-m-#{$i}.no-gutter {
        width: col-width($i, $grid-model-m, 0px);
      }
    }
  }

  @media (max-width: $media-s) {
    @for $i from 1 through $grid-model-s {
      .col-s-#{$i}:not(.no-gutter) {
        width: col-width($i, $grid-model-s, $grid-gutter-s);
      }
      .col-s-#{$i}.no-gutter {
        width: col-width($i, $grid-model-s, 0px);
      }
    }
  }

  @media (max-width: $media-xs) {
    @for $i from 1 through $grid-model-xs {
      .col-xs-#{$i}:not(.no-gutter) {
        width: col-width($i, $grid-model-xs, $grid-gutter-xs);
      }
      .col-xs-#{$i}.no-gutter {
        width: col-width($i, $grid-model-xs, 0px);
      }
    }
  }

  @for $i from 0 through $grid-model {

    .col-top-#{$i} {
      margin-top: grid-col($i);
    }

    .col-left-#{$i} {
      margin-left: grid-col($i);
    }

    .col-right-#{$i} {
      margin-right: grid-col($i);
    }

    .col-bottom-#{$i} {
      margin-bottom: calc(#{grid-col($i)} + #{$space-col});
    }
  }

  @include media-l {

    @for $i from 0 through $grid-model {
      .col-top-l-#{$i} {
        margin-top: grid-col($i);
      }

      .col-left-l-#{$i} {
        margin-left: grid-col($i);
      }

      .col-right-l-#{$i} {
        margin-right: grid-col($i);
      }

      .col-bottom-l-#{$i} {
        margin-bottom: calc(#{grid-col($i)} + #{$space-col-l});
      }
    }
  }

  @include media-m {

    @for $i from 0 through $grid-model {
      .col-top-m-#{$i} {
        margin-top: grid-col($i);
      }

      .col-left-m-#{$i} {
        margin-left: grid-col($i);
      }

      .col-right-m-#{$i} {
        margin-right: grid-col($i);
      }

      .col-bottom-m-#{$i} {
        margin-bottom: calc(#{grid-col($i)} + #{$space-col-m});
      }
    }
  }

  @include media-s {

    @for $i from 0 through $grid-model {
      .col-top-s-#{$i} {
        margin-top: grid-col($i);
      }

      .col-left-s-#{$i} {
        margin-left: grid-col($i);
      }

      .col-right-s-#{$i} {
        margin-right: grid-col($i);
      }

      .col-bottom-s-#{$i} {
        margin-bottom: calc(#{grid-col($i)} + #{$space-col-s});
      }
    }
  }

  @include media-xs {

    @for $i from 0 through $grid-model {
      .col-top-xs-#{$i} {
        margin-top: grid-col($i);
      }

      .col-left-xs-#{$i} {
        margin-left: grid-col($i);
      }

      .col-right-xs-#{$i} {
        margin-right: grid-col($i);
      }

      .col-bottom-xs-#{$i} {
        margin-bottom: calc(#{grid-col($i)} + #{$space-col-xs});
      }
    }
  }

  .col-xs-0 {
    @media (max-width: $media-xs) {
      display: none;
    }
  }

  .col-s-0 {
    @media (max-width: $media-s) {
      display: none;
    }
  }

  .col-m-0 {
    @media (max-width: $media-m) {
      display: none;
    }
  }

  .col-l-0 {
    @media (max-width: $media-l) {
      display: none;
    }
  }

  .col-xl-0 {
    @media (max-width: $media-xl) {
      display: none;
    }
  }

  [class*="col"] {

    &.-justify-start {
      display: flex;
      justify-content: flex-start;
    }

    &.-justify-center {
      display: flex;
      justify-content: center;
    }

    &.-justify-end {
      display: flex;
      justify-content: flex-end;
    }

    &.-align-start {
      display: flex;
      align-items: flex-start;
    }

    &.-align-center {
      display: flex;
      align-items: center;
    }

    &.-align-end {
      display: flex;
      align-items: flex-end;
    }

    &.-text-left {
      text-align: left;
    }

    &.-text-center {
      text-align: center;
    }

    &.-text-right {
      text-align: right;
    }
  }
}